<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Writing Linux Packages &mdash; sbt-native-packager 0.7-f654a12243bd2868e553d4250510ac4eb4ec2097 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.1.0/yeti/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7-f654a12243bd2868e553d4250510ac4eb4ec2097',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="sbt-native-packager 0.7-f654a12243bd2868e553d4250510ac4eb4ec2097 documentation" href="../index.html" />
    <link rel="up" title="Advanced Topics" href="index.html" />
    <link rel="next" title="Debian" href="debian.html" />
    <link rel="prev" title="Universal" href="universal.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          sbt-native-packager</a>
        <span class="navbar-text navbar-version pull-left"><b>0.7-f654a12243bd2868e553d4250510ac4eb4ec2097</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStartedApplications/index.html">Getting Started with Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStartedServers/index.html">Getting Started with Servers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Advanced Topics</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Writing Linux Packages</a><ul>
<li><a class="reference internal" href="#settings">Settings</a></li>
<li><a class="reference internal" href="#package-mappings">Package Mappings</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="universal.html" title="Previous Chapter: Universal"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Universal</span>
    </a>
  </li>
  <li>
    <a href="debian.html" title="Next Chapter: Debian"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Debian &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/DetailedTopics/linux.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="writing-linux-packages">
<span id="linux"></span><h1>Writing Linux Packages<a class="headerlink" href="#writing-linux-packages" title="Permalink to this headline">¶</a></h1>
<p>The native packager plugin is designed so that linux packages look similar, but can contain distribution specific information.</p>
<div class="section" id="settings">
<h2>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p>The required fields for any linux distribution are:</p>
<blockquote>
<div><dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">name</span> <span class="pre">in</span> <span class="pre">Linux</span></tt></dt>
<dd>The name given the package for installation.</dd>
<dt><tt class="docutils literal"><span class="pre">maintainer</span></tt></dt>
<dd>The name of the maintainer of the package (important for ownership and signing).</dd>
<dt><tt class="docutils literal"><span class="pre">packageSummary</span></tt></dt>
<dd>A one-sentence short summary of what the package does.</dd>
<dt><tt class="docutils literal"><span class="pre">packageDescription</span></tt></dt>
<dd>A longer description of what the package does and what it includes.</dd>
<dt><tt class="docutils literal"><span class="pre">linuxPackageMappings</span></tt></dt>
<dd>A list of files and their desired installation locations for the package, as well as other metainformation.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="package-mappings">
<h2>Package Mappings<a class="headerlink" href="#package-mappings" title="Permalink to this headline">¶</a></h2>
<p>Most of the work in generating a linux package is constructing package mappings.  These &#8216;map&#8217; a file to a location on disk where it should reside as well as information about that file.   Package mappings allow the specification of file ownership, permissions and whether or not the file can be considered &#8220;configuration&#8221;.</p>
<blockquote>
<div>Note that while the <tt class="docutils literal"><span class="pre">sbt-native-packager</span></tt> plugin allows you to specify all of this information, not all platforms will make use of the information.  It&#8217;s best to be specific
about how you want files handled and run tests on each platform you wish to deploy to.</div></blockquote>
<p>A package mapping takes this general form</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="o">(</span><span class="n">packageMapping</span><span class="o">(</span>
    <span class="n">file</span> <span class="o">-&gt;</span> <span class="s">&quot;/usr/share/man/man1/sbt.1.gz&quot;</span>
  <span class="o">)</span> <span class="n">withPerms</span> <span class="s">&quot;0644&quot;</span> <span class="n">gzipped</span><span class="o">)</span> <span class="n">asDocs</span><span class="o">()</span>
</pre></div>
</div>
<p>Let&#8217;s look at each of the methods supported in the packageMapping &#8216;library&#8217;.</p>
<blockquote>
<div><dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">packageMapping(mappings:</span> <span class="pre">(File,</span> <span class="pre">String)*)</span></tt></dt>
<dd>This method takes a variable number of <tt class="docutils literal"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">String</span></tt> pairs.  The <tt class="docutils literal"><span class="pre">File</span></tt> should be a locally available file that can be bundled,
and the <tt class="docutils literal"><span class="pre">String</span></tt> is the installation location on disk for that file.  This returns a new <tt class="docutils literal"><span class="pre">PackageMapping</span></tt> that supports the remaining methods.</dd>
<dt><tt class="docutils literal"><span class="pre">withPerms(mask:</span> <span class="pre">String)</span></tt></dt>
<dd>This function adjusts the installation permissions of the associated files.  The flags passed should be of the form of a mask, e.g. <tt class="docutils literal"><span class="pre">0755</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">gzipped</span></tt></dt>
<dd>This ensures that the files are written in compressed format to the destination.  This is a convenience for distributions that want files zipped.</dd>
<dt><tt class="docutils literal"><span class="pre">asDocs</span></tt></dt>
<dd>This denotes that the mapped files are documentation files.  <em>Note: I believe these are only used for ``RPM``s.</em></dd>
<dt><tt class="docutils literal"><span class="pre">withConfig(value:String=&quot;true&quot;)</span></tt></dt>
<dd>This denotes whether or not a <tt class="docutils literal"><span class="pre">%config</span></tt> attribute is attached to the given files in the generated rpm SPEC.  Any value other than <tt class="docutils literal"><span class="pre">&quot;true&quot;</span></tt> will be
placed inside the <tt class="docutils literal"><span class="pre">%config()`</span> <span class="pre">definition,</span> <span class="pre">for</span> <span class="pre">example</span> <span class="pre">``withConfig(&quot;noreplace&quot;)</span></tt> results in <tt class="docutils literal"><span class="pre">%config(noreplace)</span></tt> attribute in the rpm spec.</dd>
<dt><tt class="docutils literal"><span class="pre">withUser(user:String)</span></tt></dt>
<dd>This denotes which user should be the owner of the given files in the resulting package.</dd>
<dt><tt class="docutils literal"><span class="pre">withGroup(group:String)</span></tt></dt>
<dd>This denotes which group should be the owner of the given files in the resulting package.</dd>
</dl>
</div></blockquote>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="debian.html">Debian</a><ul>
<li class="toctree-l2"><a class="reference internal" href="debian.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="debian.html#settings">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="debian.html#tasks">Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="debian.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="redhat.html">RedHat</a><ul>
<li class="toctree-l2"><a class="reference internal" href="redhat.html#settings">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="redhat.html#tasks">Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="redhat.html#jar-repackaging">Jar Repackaging</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014 sbt-native-packager team.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>