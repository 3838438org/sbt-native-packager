<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Customize Java Server Applications &mdash; sbt-native-packager 1.0.3 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootswatch-3.2.0/yeti/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="sbt-native-packager 1.0.3 documentation" href="../../index.html" />
    <link rel="up" title="Java Server Application Archetype" href="index.html" />
    <link rel="next" title="Akka Microkernel" href="../akka_app/index.html" />
    <link rel="prev" title="My First Packaged Server Project" href="my-first-project.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          sbt-native-packager</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted.html#packaging-formats">Packaging Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted.html#archetypes">Archetypes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../gettingstarted.html#sitemap">Sitemap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../java_app/index.html">Java Application Archetype</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Java Server Application Archetype</a></li>
<li class="toctree-l1"><a class="reference internal" href="../akka_app/index.html">Akka Microkernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cheatsheet.html">Archetype Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Project Archetypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../formats/index.html">Packaging Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topics/index.html">Advanced Topics</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Customize Java Server Applications</a><ul>
<li><a class="reference internal" href="#application-configuration">Application Configuration</a><ul>
<li><a class="reference internal" href="#linux-configuration">Linux Configuration</a><ul>
<li><a class="reference internal" href="#environment-variables">Environment variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#windows-configuration">Windows Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#service-manager-configuration">Service Manager Configuration</a><ul>
<li><a class="reference internal" href="#customize-start-script">Customize Start Script</a></li>
<li><a class="reference internal" href="#override-start-script-src-templates-start">Override Start Script - <tt class="docutils literal"><span class="pre">src/templates/start</span></tt></a></li>
<li><a class="reference internal" href="#systemd-support">SystemD Support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#package-lifecycle-configuration">Package Lifecycle Configuration</a><ul>
<li><a class="reference internal" href="#partially-replace-template-functionality">Partially Replace Template Functionality</a></li>
<li><a class="reference internal" href="#rpm-scriptlets">RPM Scriptlets</a><ul>
<li><a class="reference internal" href="#override-postinst-scriptlet">Override Postinst scriptlet</a></li>
</ul>
</li>
<li><a class="reference internal" href="#debian-control-scripts">Debian Control Scripts</a></li>
<li><a class="reference internal" href="#linux-replacements">Linux Replacements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-configurations">Example Configurations</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="my-first-project.html" title="Previous Chapter: My First Packaged Server Project"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; My First Package...</span>
    </a>
  </li>
  <li>
    <a href="../akka_app/index.html" title="Next Chapter: Akka Microkernel"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Akka Microkernel &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../../_sources/archetypes/java_server/customize.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="customize-java-server-applications">
<h1>Customize Java Server Applications<a class="headerlink" href="#customize-java-server-applications" title="Permalink to this headline">¶</a></h1>
<div class="section" id="application-configuration">
<h2>Application Configuration<a class="headerlink" href="#application-configuration" title="Permalink to this headline">¶</a></h2>
<p>After <a class="reference internal" href="my-first-project.html"><em>creating a package</em></a>, the very next thing needed, usually, is the ability for users/ops to customize the application once it&#8217;s deployed.   Let&#8217;s add some configuration to the newly deployed application.</p>
<p>There are generally two types of configurations:</p>
<ul class="simple">
<li>Configuring the JVM and the process</li>
<li>Configuring the Application itself.</li>
</ul>
<p>The server archetype provides you with a special feature to configure your application
with a single file outside of customizing the <tt class="docutils literal"><span class="pre">bash</span></tt> or <tt class="docutils literal"><span class="pre">bat</span></tt> script for applications.
As this file is OS dependent, each OS gets section.</p>
<div class="section" id="linux-configuration">
<h3>Linux Configuration<a class="headerlink" href="#linux-configuration" title="Permalink to this headline">¶</a></h3>
<p>There are different ways described in <a class="reference internal" href="../java_app/customize.html"><em>Customizing the Application</em></a>
and can be used the same way.</p>
<p>The server archetype adds an additional way with an <tt class="docutils literal"><span class="pre">etc-default</span></tt> file placed in <tt class="docutils literal"><span class="pre">src/templates</span></tt>, which currently
only works for <strong>SystemV</strong>. The file gets sourced before the actual startscript is executed.
The file will be installed to <tt class="docutils literal"><span class="pre">/etc/default/&lt;normalizedName&gt;</span></tt></p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># Available replacements</span>
<span class="c"># ------------------------------------------------</span>
<span class="c"># ${{author}}           package author</span>
<span class="c"># ${{descr}}            package description</span>
<span class="c"># ${{exec}}             startup script name</span>
<span class="c"># ${{chdir}}            app directory</span>
<span class="c"># ${{retries}}          retries for startup</span>
<span class="c"># ${{retryTimeout}}     retry timeout</span>
<span class="c"># ${{app_name}}         normalized app name</span>
<span class="c"># ${{daemon_user}}      daemon user</span>
<span class="c"># -------------------------------------------------</span>

<span class="c"># Setting JAVA_OPTS</span>
<span class="c"># -----------------</span>
<span class="nv">JAVA_OPTS</span><span class="o">=</span><span class="s2">&quot;-Dpidfile.path=/var/run/</span><span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="s2">}/play.pid </span><span class="nv">$JAVA_OPTS</span><span class="s2">&quot;</span>

<span class="c"># For rpm/systemv you need to set the PIDFILE env variable as well</span>
<span class="nv">PIDFILE</span><span class="o">=</span><span class="s2">&quot;/var/run/</span><span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="s2">}/play.pid&quot;</span>

<span class="c"># export env vars for 3rd party libs</span>
<span class="c"># ----------------------------------</span>
<span class="nv">COMPANY_API_KEY</span><span class="o">=</span>123abc
<span class="nb">export </span>COMPANY_API_KEY
</pre></div>
</div>
<div class="section" id="environment-variables">
<h4>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h4>
<p>The usual <tt class="docutils literal"><span class="pre">JAVA_OPTS</span></tt> can be used to override settings. This is a nice way to test
different jvm settings with just restarting the jvm.</p>
</div>
</div>
<div class="section" id="windows-configuration">
<h3>Windows Configuration<a class="headerlink" href="#windows-configuration" title="Permalink to this headline">¶</a></h3>
<p>Support planned.</p>
</div>
</div>
<div class="section" id="service-manager-configuration">
<h2>Service Manager Configuration<a class="headerlink" href="#service-manager-configuration" title="Permalink to this headline">¶</a></h2>
<p>It is possible to change the default Service Manager for a given platform by specifying a <tt class="docutils literal"><span class="pre">ServerLoader</span></tt>. To use
Upstart for an Rpm package simply:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">com.typesafe.sbt.packager.archetypes.ServerLoader</span>

<span class="n">serverLoading</span> <span class="n">in</span> <span class="nc">Rpm</span> <span class="o">:=</span> <span class="nc">ServerLoader</span><span class="o">.</span><span class="nc">Upstart</span>
</pre></div>
</div>
<p><em>As a side note Fedora/RHEL/Centos family of linux specifies</em> <tt class="docutils literal"><span class="pre">Default</span> <span class="pre">requiretty</span></tt> <em>in its</em> <tt class="docutils literal"><span class="pre">/etc/sudoers</span></tt>
<em>file. This prevents the default Upstart script from working correctly as it uses sudo to run the application
as the</em> <tt class="docutils literal"><span class="pre">daemonUser</span></tt> <em>. Simply disable requiretty to use Upstart or modify the Upstart template.</em></p>
<div class="section" id="customize-start-script">
<h3>Customize Start Script<a class="headerlink" href="#customize-start-script" title="Permalink to this headline">¶</a></h3>
<p>Sbt Native Packager leverages templating to customize various start/stop scripts and pre/post install tasks.
As an example, to alter the <tt class="docutils literal"><span class="pre">loader-functions</span></tt> which manage the specific start and stop process commands
for SystemLoaders you can to the <tt class="docutils literal"><span class="pre">linuxScriptReplacements</span></tt> map:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">com.typesafe.sbt.packager.archetypes.TemplateWriter</span>

<span class="n">linuxScriptReplacements</span> <span class="o">+=</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">functions</span> <span class="k">=</span> <span class="n">sourceDirectory</span><span class="o">.</span><span class="n">value</span> <span class="o">/</span> <span class="s">&quot;templates&quot;</span> <span class="o">/</span> <span class="s">&quot;custom-loader-functions&quot;</span>
  <span class="c1">// Nil == replacements. If you want to replace stuff in your script put them in this Seq[(String,String)]</span>
  <span class="s">&quot;loader-functions&quot;</span> <span class="o">-&gt;</span> <span class="nc">TemplateWriter</span><span class="o">.</span><span class="n">generateScript</span><span class="o">(</span><span class="n">functions</span><span class="o">.</span><span class="n">toURL</span><span class="o">,</span> <span class="nc">Nil</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
<p>which will add the following resource file to use start/stop instead of initctl in the post install script:</p>
<div class="highlight-bash"><div class="highlight"><pre>startService<span class="o">()</span> <span class="o">{</span>
    <span class="nv">app_name</span><span class="o">=</span><span class="nv">$1</span>
    start <span class="nv">$app_name</span>
<span class="o">}</span>

stopService<span class="o">()</span> <span class="o">{</span>
    <span class="nv">app_name</span><span class="o">=</span><span class="nv">$1</span>
    stop <span class="nv">$app_name</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../../formats/debian.html"><em>debian</em></a> and <a class="reference internal" href="../../formats/rpm.html"><em>redhat</em></a> pages have further information on overriding
distribution specific actions.</p>
</div>
<div class="section" id="override-start-script-src-templates-start">
<h3>Override Start Script - <tt class="docutils literal"><span class="pre">src/templates/start</span></tt><a class="headerlink" href="#override-start-script-src-templates-start" title="Permalink to this headline">¶</a></h3>
<p>It&#8217;s also possible to override the entire script/configuration for your service manager.
Create a file <tt class="docutils literal"><span class="pre">src/templates/start</span></tt> and it will be used instead.</p>
<p><strong>Syntax</strong></p>
<p>You can use <tt class="docutils literal"><span class="pre">${{variable_name}}</span></tt> to reference variables when writing your script.  The default set of variables is:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">descr</span></tt> - The description of the server.</li>
<li><tt class="docutils literal"><span class="pre">author</span></tt> - The configured author name.</li>
<li><tt class="docutils literal"><span class="pre">exec</span></tt> - The script/binary to execute when starting the server</li>
<li><tt class="docutils literal"><span class="pre">chdir</span></tt> - The working directory for the server.</li>
<li><tt class="docutils literal"><span class="pre">retries</span></tt> - The number of times to retry starting the server.</li>
<li><tt class="docutils literal"><span class="pre">retryTimeout</span></tt> - The amount of time to wait before trying to run the server.</li>
<li><tt class="docutils literal"><span class="pre">app_name</span></tt> - The name of the application (linux friendly)</li>
<li><tt class="docutils literal"><span class="pre">app_main_class</span></tt> - The main class / entry point of the application.</li>
<li><tt class="docutils literal"><span class="pre">app_classpath</span></tt> - The (ordered) classpath of the application.</li>
<li><tt class="docutils literal"><span class="pre">daemon_user</span></tt> - The user that the server should run as.</li>
</ul>
</div>
<div class="section" id="systemd-support">
<h3>SystemD Support<a class="headerlink" href="#systemd-support" title="Permalink to this headline">¶</a></h3>
<p>There is also experimental SystemD support for Fedora release 20 (Heisenbug). You can use the <tt class="docutils literal"><span class="pre">`Systemd`</span></tt> server loader:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">com.typesafe.sbt.packager.archetypes.ServerLoader</span>

<span class="n">serverLoading</span> <span class="n">in</span> <span class="nc">Rpm</span> <span class="o">:=</span> <span class="nc">ServerLoader</span><span class="o">.</span><span class="nc">Systemd</span>
</pre></div>
</div>
<p>There is only partial systemd support in Ubuntu 14.04 LTS which prevents sbt-native-packager systemd from working correctly on
Ubuntu. Ubuntu 15.04 is the first version that switched to Systemd and the default Upstart won&#8217;t work. Switch to Systemd with</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">com.typesafe.sbt.packager.archetypes.ServerLoader</span>

<span class="n">serverLoading</span> <span class="n">in</span> <span class="nc">Debian</span> <span class="o">:=</span> <span class="nc">ServerLoader</span><span class="o">.</span><span class="nc">Systemd</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="package-lifecycle-configuration">
<h2>Package Lifecycle Configuration<a class="headerlink" href="#package-lifecycle-configuration" title="Permalink to this headline">¶</a></h2>
<p>Some scripts are covered in the standard application type. Read more on <a class="reference internal" href="../java_app/customize.html"><em>Java Application Customization</em></a>.
For the <tt class="docutils literal"><span class="pre">java_server</span></tt> package lifecycle scripts are customized to provide the following additional features</p>
<ul class="simple">
<li>Chowning directories and files correctly (if necessary)</li>
<li>Create/Delete users and groups according to your mapping</li>
<li>Register application at your init system</li>
</ul>
<p>For this purpose <em>sbt-native-packager</em> ships with some predefined templates. These can be
overridden with different techniques, depending on the packaging system.</p>
<div class="section" id="partially-replace-template-functionality">
<h3>Partially Replace Template Functionality<a class="headerlink" href="#partially-replace-template-functionality" title="Permalink to this headline">¶</a></h3>
<p>Most sbt-native-packager scripts are broken up into partial templates in the <a class="reference external" href="https://github.com/sbt/sbt-native-packager/tree/master/src/main/resources/com/typesafe/sbt/packager">resources directory</a>.
You can override these default template snippets by adding to the <tt class="docutils literal"><span class="pre">linuxScriptReplacements</span></tt> map. As
an example you can change the <tt class="docutils literal"><span class="pre">loader-functions</span></tt> which starts/stop services based on a certain <tt class="docutils literal"><span class="pre">`ServerLoader`</span></tt>:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">linuxScriptReplacements</span> <span class="o">+=</span> <span class="s">&quot;loader-functions&quot;</span> <span class="o">-&gt;</span> <span class="nc">TemplateWriter</span><span class="o">.</span><span class="n">generateScript</span><span class="o">(</span><span class="n">getClass</span><span class="o">.</span><span class="n">getResource</span><span class="o">(</span><span class="s">&quot;/custom-loader-functions&quot;</span><span class="o">),</span> <span class="nc">Nil</span><span class="o">)</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">custom-loader-functions</span></tt> file must declare the <tt class="docutils literal"><span class="pre">startService()</span></tt> and <tt class="docutils literal"><span class="pre">stopService()</span></tt> functions used in various
service management scripts.</p>
</div>
<div class="section" id="rpm-scriptlets">
<h3>RPM Scriptlets<a class="headerlink" href="#rpm-scriptlets" title="Permalink to this headline">¶</a></h3>
<p>RPM puts all scripts into one file. To override or append settings to your
scriptlets use these settings:</p>
<blockquote>
<div><dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">rpmPre</span></tt></dt>
<dd>%pre scriptlet</dd>
<dt><tt class="docutils literal"><span class="pre">rpmPost</span></tt></dt>
<dd>%post scriptlet</dd>
<dt><tt class="docutils literal"><span class="pre">rpmPosttrans</span></tt></dt>
<dd>%posttrans scriptlet</dd>
<dt><tt class="docutils literal"><span class="pre">rpmPreun</span></tt></dt>
<dd>&#8220;%preun scriptlet&#8221;</dd>
<dt><tt class="docutils literal"><span class="pre">rpmPostun</span></tt></dt>
<dd>%postun scriptlet</dd>
<dt><tt class="docutils literal"><span class="pre">rpmVerifyscript</span></tt></dt>
<dd>%verifyscript scriptlet</dd>
</dl>
</div></blockquote>
<p>If you want to have your files separated from the build definition use the
default location for rpm scriptlets. To override default templates in a RPM
build put the new scriptlets in the <tt class="docutils literal"><span class="pre">rpmScriptsDirectory</span></tt> (by default <tt class="docutils literal"><span class="pre">src/rpm/scriptlets</span></tt>).</p>
<blockquote>
<div><dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">rpmScriptsDirectory</span></tt></dt>
<dd>By default to <tt class="docutils literal"><span class="pre">src/rpm/scriptlets</span></tt>. Place your templates here.</dd>
</dl>
</div></blockquote>
<p>Available templates are</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">post-rpm</span></tt>
<tt class="docutils literal"><span class="pre">pre-rpm</span></tt>
<tt class="docutils literal"><span class="pre">postun-rpm</span></tt>
<tt class="docutils literal"><span class="pre">preun-rpm</span></tt></div></blockquote>
<div class="section" id="override-postinst-scriptlet">
<h4>Override Postinst scriptlet<a class="headerlink" href="#override-postinst-scriptlet" title="Permalink to this headline">¶</a></h4>
<p>By default the <tt class="docutils literal"><span class="pre">post-rpm</span></tt> template only starts the service, but doesn&#8217;t register it.</p>
<div class="highlight-bash"><div class="highlight"><pre>service <span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="o">}</span> start
</pre></div>
</div>
<p>For <strong>CentOS</strong> we can do</p>
<div class="highlight-bash"><div class="highlight"><pre>chkconfig <span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="o">}</span> defaults
service <span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="o">}</span> start <span class="o">||</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="s2">} could not be started. Try manually with service </span><span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="s2">} start&quot;</span>
</pre></div>
</div>
<p>For <strong>RHEL</strong></p>
<div class="highlight-bash"><div class="highlight"><pre>update-rc.d <span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="o">}</span> defaults
service <span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="o">}</span> start <span class="o">||</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="s2">} could not be started. Try manually with service </span><span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="s2">} start&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="debian-control-scripts">
<h3>Debian Control Scripts<a class="headerlink" href="#debian-control-scripts" title="Permalink to this headline">¶</a></h3>
<p>To override default templates in a Debian build put the new control files in the
<tt class="docutils literal"><span class="pre">debianControlScriptsDirectory</span></tt> (by default <tt class="docutils literal"><span class="pre">src/debian/DEBIAN</span></tt>).</p>
<blockquote>
<div><dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">debianControlScriptsDirectory</span></tt></dt>
<dd>By default to <tt class="docutils literal"><span class="pre">src/debian/DEBIAN</span></tt>. Place your templates here.</dd>
<dt><tt class="docutils literal"><span class="pre">debianMakePreinstScript</span></tt></dt>
<dd>creates or discovers the preinst script used by this project.</dd>
<dt><tt class="docutils literal"><span class="pre">debianMakePrermScript</span></tt></dt>
<dd>creates or discovers the prerm script used by this project.</dd>
<dt><tt class="docutils literal"><span class="pre">debianMakePostinstScript</span></tt></dt>
<dd>creates or discovers the postinst script used by this project.</dd>
<dt><tt class="docutils literal"><span class="pre">debianMakePostrmScript</span></tt></dt>
<dd>creates or discovers the postrm script used by this project.</dd>
</dl>
</div></blockquote>
<p>Available templates are</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">postinst</span></tt>
<tt class="docutils literal"><span class="pre">preinst</span></tt>
<tt class="docutils literal"><span class="pre">postun</span></tt>
<tt class="docutils literal"><span class="pre">preun</span></tt></div></blockquote>
</div>
<div class="section" id="linux-replacements">
<h3>Linux Replacements<a class="headerlink" href="#linux-replacements" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>This is a list of values you can access in your templates</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="si">${</span><span class="p">{author</span><span class="si">}</span><span class="o">}</span>
<span class="si">${</span><span class="p">{descr</span><span class="si">}</span><span class="o">}</span>
<span class="si">${</span><span class="p">{exec</span><span class="si">}</span><span class="o">}</span>
<span class="si">${</span><span class="p">{chdir</span><span class="si">}</span><span class="o">}</span>
<span class="si">${</span><span class="p">{retries</span><span class="si">}</span><span class="o">}</span>
<span class="si">${</span><span class="p">{retryTimeout</span><span class="si">}</span><span class="o">}</span>
<span class="si">${</span><span class="p">{app_name</span><span class="si">}</span><span class="o">}</span>
<span class="si">${</span><span class="p">{daemon_user</span><span class="si">}</span><span class="o">}</span>
<span class="si">${</span><span class="p">{daemon_group</span><span class="si">}</span><span class="o">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="example-configurations">
<h2>Example Configurations<a class="headerlink" href="#example-configurations" title="Permalink to this headline">¶</a></h2>
<p>A list of very small configuration settings can be found at <a class="reference external" href="https://github.com/muuki88/sbt-native-packager-examples">sbt-native-packager-examples</a></p>
<blockquote>
<div></div></blockquote>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014 sbt-native-packager team.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>