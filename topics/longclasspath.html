<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Dealing with long classpaths &mdash; sbt-native-packager 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/yeti/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="sbt-native-packager 1.0.0 documentation" href="../index.html" />
    <link rel="up" title="Advanced Topics" href="index.html" />
    <link rel="next" title="Play 2 Packaging" href="play.html" />
    <link rel="prev" title="Custom Package Formats" href="custom.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          sbt-native-packager</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html#packaging-formats">Packaging Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html#archetypes">Archetypes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../gettingstarted.html#sitemap">Sitemap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../archetypes/java_app/index.html">Java Application Archetype</a></li>
<li class="toctree-l1"><a class="reference internal" href="../archetypes/java_server/index.html">Java Server Application Archetype</a></li>
<li class="toctree-l1"><a class="reference internal" href="../archetypes/akka_app/index.html">Akka Microkernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../archetypes/cheatsheet.html">Archetype Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../archetypes/index.html">Project Archetypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formats/index.html">Packaging Formats</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Advanced Topics</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Dealing with long classpaths</a><ul>
<li><a class="reference internal" href="#generate-a-launcher-jar">Generate a launcher jar</a></li>
<li><a class="reference internal" href="#generate-a-classpath-jar">Generate a classpath jar</a></li>
<li><a class="reference internal" href="#configure-a-wildcard-classpath">Configure a wildcard classpath</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="custom.html" title="Previous Chapter: Custom Package Formats"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Custom Package F...</span>
    </a>
  </li>
  <li>
    <a href="play.html" title="Next Chapter: Play 2 Packaging"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Play 2 Packaging &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/topics/longclasspath.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="dealing-with-long-classpaths">
<h1>Dealing with long classpaths<a class="headerlink" href="#dealing-with-long-classpaths" title="Permalink to this headline">¶</a></h1>
<p>By default, when the native packager generates a script for starting your application, it will generate an invocation
of java that that passes every library on the classpath to the classpath argument, <tt class="docutils literal"><span class="pre">-cp</span></tt>.  If you have a lot of
dependencies, this may result in a very long command being executed, which, aside from being aesthetically unpleasing
and difficult to work with when using tools like <tt class="docutils literal"><span class="pre">ps</span></tt>, causes problems on some platforms, notably Windows, that have
limits to how long commands can be.</p>
<p>There are a few ways you can work around this in the native packager.</p>
<div class="section" id="generate-a-launcher-jar">
<h2>Generate a launcher jar<a class="headerlink" href="#generate-a-launcher-jar" title="Permalink to this headline">¶</a></h2>
<p>The native packager includes a plugin that allows generating a launcher jar.  This launcher jar will contain no classes,
but will have your projects main class and classpath in its manifest.  The script that sbt then generates executes this
jar like so:</p>
<div class="highlight-bash"><div class="highlight"><pre>java -jar myproject-launcher.jar
</pre></div>
</div>
<p>To enable the launcher jar, enable the <tt class="docutils literal"><span class="pre">LauncherJarPlugin</span></tt>:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">enablePlugins</span><span class="o">(</span><span class="nc">LauncherJarPlugin</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="generate-a-classpath-jar">
<h2>Generate a classpath jar<a class="headerlink" href="#generate-a-classpath-jar" title="Permalink to this headline">¶</a></h2>
<p>The classpath jar is very similar to the launcher jar, in that it also has the classpath on its manifest, but it does
not include the main class in its manifest, and so executed by the start script by invoking:</p>
<div class="highlight-bash"><div class="highlight"><pre>java -cp myproject-classpath.jar some.Main
</pre></div>
</div>
<p>To enable the classpath jar:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">enablePlugins</span><span class="o">(</span><span class="nc">ClasspathJarPlugin</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="configure-a-wildcard-classpath">
<h2>Configure a wildcard classpath<a class="headerlink" href="#configure-a-wildcard-classpath" title="Permalink to this headline">¶</a></h2>
<p>JDK 6 and above supports configuring the classpath using wildcards.  To enable this, simply override the
<tt class="docutils literal"><span class="pre">scriptClasspath</span></tt> task to only contain <tt class="docutils literal"><span class="pre">*</span></tt>, for example:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">scriptClasspath</span> <span class="o">:=</span> <span class="nc">Seq</span><span class="o">(</span><span class="s">&quot;*&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>One downside of this approach is that the classpath ordering will no longer match the classpath ordering that sbt uses.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014 sbt-native-packager team.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>